# CerediraTess

HTTP-сервис для выполнения скриптов (.bat, .sh) на удаленных агентах (Windows, Linux).

## Содержание
<a name="content"></a>
1. [Содержание](#content)
1. [Описание инструмента CerediraTess](#description)
   1. [Для кого предназначен этот инструмент](#who_is_it_for)
   1. [Какие проблемы, решает этот инструмент](#problems)
   1. [Основные задачи инструмента](#main_tasks)
   1. [Второстепенные задачи инструмента](#minor_tasks)
   1. [Особенности инсрумента](#features)
1. [Системные требования](#system_requiremets)
1. [Установка и настройка](#setup)
   1. [Первый запуск](#first_run)
   1. [Установка в качестве сервиса](#service)

## Описание инструмента CerediraTess
<a name="description"></a>

__Для кого предназначен этот инструмент:__<a name="who_is_it_for"></a>
* DevOps-инженерам;
* Администраторам операционных систем;
* Тестировщики;
* Автоматизаторам;
* Программистам.

__Какие проблемы, решает этот инструмент:__<a name="problems"></a>
1. Администраторам операционных систем, необходимо разрешить команде разработки выполнять перезагрузку сервиса Windows на машине, без возможности выполнять любые другие действия на этой машине и без необходимости выдачи каждому пользователю прав для входа на машину.
1. Администраторам операционных систем, необходимо обеспечить тестировщикам возможность очистки логов сервисов Windows на серверах, без возможности выполнять любые другие действия на этих серверах, без необходимости предоставления прав именно на разрешенные действия.
1. Администраторам операционных систем, по запросу пользователей, устанавливать на рабочих виртуальных машинах пользователей различное ПО вида Java JDK, Python интерпретатор, Maven, среды разработки и любой другой софт, без необходимости ручного вмешательства в процесс установки.
1. DevOps-инженерам, если у вас автоматизация тестирования, в качестве агентов выступают Windows машины, пул машин меняется или растет, то необходимо устанавливать ПО и настраивать одни и те же параметры на каждой машине, и велика вероятность возникновения ошибки.
1. Автоматизаторам при проведении нагрузочного тестирования необходимо приводить стенд нагрузочного тестирования в изначальное положение: выполнять перезагрузку, чистить логи, чистить таблицы баз данных и т.п.
1. Тестировщикам, при обновлении кода эмуляторов или заглушек, необходимо выполнять редеплой.

__Основные задачи инструмента:__<a name="main_tasks"></a>
* Предоставление широкому кругу пользователей возможность выполнения действий, согласованных с администратором, на удаленных агентах.
* Сокрытие от пользователей используемых учетных данных, для подключения к удаленным агентам.
* API-интерфейс, для возможности использования в связке с инструментами организации CI\CD.

__Второстепенные задачи инструмента:__<a name="minor_tasks"></a>
* Файловый сервер.
* Пользовательский интерфейс для удобства администрирования инструмента.
* Пользовательский интерфейс для удобства ручного использования инструмента/отладки скриптов.

__Особенности инсрумента:__<a name="features"></a>
* Не нужно устанавливать на удаленных агентах для выполнения действий дополнительное ПО и выполнять настройки.
* Встроенный широкий набор скриптов, который позволит выполнить быстрый старт.
* Открытость набора встроенных скриптов позволит быстро обучится написанию собственных.


##Системные требования
<a name="system_requiremets"></a>

__Информация в данном разделе будет уточнения после проведения дополнительных испытаний. Все очень сильно зависит от задач.__
* Конфигурация с количеством параллельных агентов до 50 штук:
   1. ЦП: 4 ядра;
   1. ОП: 6-8 Гб;
   1. Диск: 50 Гб или больше.
* Конфигурация для запуска UI автотестов с открытием RDP сессий, агентов до 20-30 штук одновременно:
   1. ЦП: 8 ядер;
   1. ОП: 16 Гб;
   1. Диск: 100 Гб или больше.


## Установка и настройка
<a name="setup"></a>

__Первый запуск__<a name="first_run"></a>
1. Скачать последнюю версию исполняемого файла CerediraTess.exe со страницы релизов https://github.com/Ceredira/CerediraTess/releases.
1. Создать каталог, например: _C:\\Temp\\CerediraTess\_{ProjectName1}\\_, который будет является корнем проекта.
1. Скопировать CerediraTess.exe в созданный каталог и переименовать в _CerediraTess\_{ProjectName1}.exe_, где {ProjectName1} - желаемое имя проекта.
1. Запустить _CerediraTess\_{ProjectName1}.exe_ двойным кликом.
1. Если это первый запуск утилиты (проверяется по наличию файла users.json в корне проекта):
   1. Указать пароль администратора по приглашению и нажать Enter.
   1. Происходит первоначальное создание файлов _agents.json_ и _users.json_.
   1. Происходит создание каталогов _scripts_, _resources_ и _www_.
   1. С сайта https://live.sysinternals.com/ скачать утилиту _psexec.exe_ и положить в каталог _resources_ проекта. Для возможности выполнения запросов к удаленным Windows-машинам.
   1. С сайта https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html скачать утилиту _plink.exe_ и положить в каталог _resources_ проекта. Для возможности выполнения запросов к удаленным Linux-машинам.
1. Утилита работает.

__Установка в качестве сервиса__<a name="service"></a>


## Принцип работы с системы

Варианты работы системы

<a name="problems"></a>


English Version

Service for script execution on remote hosts.  
Must be running on Windows as executable, or as a windows service with nssm.exe using.  
Run .bat scripts on Windows hosts.